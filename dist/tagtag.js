!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self).tagtag=e()}(this,(function(){"use strict";function n(n){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n||n instanceof Date}var e=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].reduce((function(n,e){return n[e]=!0,n}),{}),t=["circle","ellipse","line","path","polygon","polyline","rect","stop","use"].reduce((function(n,e){return n[e]=!0,n}),{});function r(n){return e[n]||!1}function o(n){return t[n]||!1}var i={'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;"},u=/["'&<>]/g;function a(n){return n.replace(u,(function(n){return i[n]}))}var c=function(n){this.output=n};c.prototype.toString=function(){return this.output};var f={};function s(e){return e=f[e]?f[e]:e=f[e]=function(n){for(var e=n.split(/([#.])/),t="",r="",o=[],i=0;i<e.length;i++){var u=e[i];"#"===u?r=e[++i]:"."===u?o.push(e[++i]):u.length&&(t=u)}return{tagName:t||"div",id:r,className:o.join(" ")}}(e),function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var u=e.tagName,f=e.id,s=e.className,p=[],l=[];return t.forEach((function(e){if(n(e))l.push(a(e));else if("object"==typeof e)if(e instanceof c)l.push(e.toString());else for(var t in e)"id"===t?f=e[t]:"class"===t?(s&&(s+=" "),s+=a(e[t])):"$raw"===t?l.push(e[t]):p.push(" "+t+'="'+a(e[t])+'"')})),f&&p.push(' id="'+f+'"'),s&&p.push(' class="'+s+'"'),"doctype html"===u?"<!DOCTYPE html>"+l.join(""):r(u)?new c("<"+u+p.join("")+">"):o(u)?new c("<"+u+p.join("")+"/>"):new c("<"+u+p.join("")+">"+l.join("")+"</"+u+">")}}return s.raw=function(n){return new c(n)},s.queryCache=f,s}));
